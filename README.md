# Typemania
Speed-typing webapp built in Python (Flask) and JavaScript. Check it out at [typemania.net](http://typemania.net)!

## Features
Although modest in scope, the application offers a number of features beyond its small speed-typing game.

### Backend
The base app is an adaptation of Miguel Grinberg's fantastic [Flask Mega-Tutorial](https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world). Features include:

- Registration / login system
- Sending email (for resetting passwords)
- Allows changing user login credentials, deleting user accounts
- Personal user pages
- High Score list
- Logging of errors and custom events
- A sentence generator
- Cookies handling (Session, consent cookies)
- Admin page (handling users, words and sentences)
- A contact form
- Custom error pages (404, 500)

### Frontend
- Pages are created with the Jinja2 templating engine.
- The typing game is written in vanilla JavaScript (ES6).
- Styles are preprocessed by Sass.

#### Responsive design
The website's styling is responsive and has been tested in resolutions ranging from 320px to 1920px viewport width.

### Sentence Generator
Sentences are generated by a pseudo-random sentence generator (`sentence_generator.py`). Using so called *sentence models*, the script fetches random words with appropriate *word type tags* from a word database as well as from static assets. Words are transformed automatically if needed (e.g. pluralize nouns, conjugate verbs) and then inserted into the current sentence. Finally, the sentence is served to the game part of the application.

The sentence generator aims to create grammatically correct sentences. However, presently the sentence generator has no *semantic component*. In other words, *sentences often make no sense*. This might be addressed in a future update.

For detailed instructions on how to use the sentence generator, see the *manage sentences* and *manage words* pages from the admin panel.

### User privacy
Steps have been taken to ensure compliance with legislation regarding users' privacy and handling of their data.

- Opt-in cookie consent.
- Explicit consent to handling of user data.
- Allows users to exercise *right to be forgotten* and *right of access to data*.
- Detailed privacy policy and cookie policy.

## Setup
1. Install requirements in `requirements.txt` into a virtual environment.
2. Compile stylesheet. Must be called `style.css`.
3. Create a `.env` file in app root.
  - Specify `ADMIN_USER`, e.g. `ADMIN_USER = 'admin'`.
  - Specify `ADMIN_EMAIL` address.
  - Specify a super secret `SPECIAL_KEY`, preferably with `os.urandom(24)`.
  - Configure email server, see `config.py`.